<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Web APIs Demo üöÄ</title>
    <link rel="stylesheet" href="/src/style.css" />
</head>
<body>
<div id="app">
    <header>
        <h1>Modern Web APIs Demo üöÄ</h1>
        <nav id="nav-tabs">
            <button class="nav-tab active" data-tab="overview">Overview</button>
            <button class="nav-tab" data-tab="speech">Speech API</button>
            <button class="nav-tab" data-tab="anchor">CSS Anchor</button>
            <button class="nav-tab" data-tab="transition">View Transition</button>
            <button class="nav-tab" data-tab="filesystem">File System</button>
            <button class="nav-tab" data-tab="pip">Picture-in-Picture</button>
            <button class="nav-tab" data-tab="vibration">Vibration</button>
            <button class="nav-tab" data-tab="share">Web Share</button>
            <button class="nav-tab" data-tab="push">Push API</button>
        </nav>
    </header>

    <main>
        <!-- Overview Section -->
        <section id="overview" class="tab-content active">
            <h2>Welcome to Modern Web APIs Demo!</h2>
            <p>This demo showcases cutting-edge web APIs that are shaping the future of web development.</p>
            
            <div class="api-grid">
                <div class="api-card" data-tab="speech">
                    <h3>üé§ Web Speech API</h3>
                    <p>On-device speech recognition for voice commands and dictation</p>
                </div>
                <div class="api-card" data-tab="anchor">
                    <h3>‚öì CSS Anchor Positioning</h3>
                    <p>Position elements relative to anchor points</p>
                </div>
                <div class="api-card" data-tab="transition">
                    <h3>‚ú® View Transition API</h3>
                    <p>Smooth transitions between page states</p>
                </div>
                <div class="api-card" data-tab="filesystem">
                    <h3>üìÅ File System Access API</h3>
                    <p>Read and write files directly from the browser</p>
                </div>
                <div class="api-card" data-tab="pip">
                    <h3>üñºÔ∏è Document Picture-in-Picture</h3>
                    <p>Floating window for document content</p>
                </div>
                <div class="api-card" data-tab="vibration">
                    <h3>üì≥ Vibration API</h3>
                    <p>Haptic feedback for mobile devices</p>
                </div>
                <div class="api-card" data-tab="share">
                    <h3>üì§ Web Share API</h3>
                    <p>Native sharing capabilities across platforms</p>
                </div>
                <div class="api-card" data-tab="push">
                    <h3>üîî Push API</h3>
                    <p>Send push notifications from the website</p>
                </div>
            </div>
        </section>

        <!-- Web Speech API Section -->
        <section id="speech" class="tab-content">
            <h2>üé§ Web Speech API</h2>
            <p>Try speaking to see on-device speech recognition in action!</p>
            <div class="demo-container">
                <div class="speech-controls">
                    <label for="language-selector">Select Language:</label>
                    <select id="language-selector" class="language-selector">
                        <option value="en-US">English (US)</option>
                        <option value="en-GB">English (UK)</option>
                        <option value="es-ES">Spanish (Spain)</option>
                        <option value="es-MX">Spanish (Mexico)</option>
                        <option value="fr-FR">French</option>
                        <option value="de-DE">German</option>
                        <option value="it-IT">Italian</option>
                        <option value="ja-JP">Japanese</option>
                        <option value="zh-CN">Chinese (Simplified)</option>
                        <option value="ko-KR">Korean</option>
                        <option value="pt-BR">Portuguese (Brazil)</option>
                        <option value="ru-RU">Russian</option>
                        <option value="ar-SA">Arabic</option>
                        <option value="hi-IN">Hindi</option>
                    </select>
                </div>
                <button id="speech-btn" class="demo-btn">Start Listening üé§</button>
                <div id="speech-result" class="result-box"></div>
                <div id="speech-status" class="status-text"></div>
                <div class="speech-info">
                    <h4>On-Device Speech Recognition Features:</h4>
                    <ul>
                        <li>üîí <strong>Privacy:</strong> Process speech locally on your device without sending data to cloud</li>
                        <li>‚ö° <strong>Speed:</strong> Faster recognition with no network latency</li>
                        <li>üì¶ <strong>Language Packs:</strong> Download language packs for offline use</li>
                        <li>üåê <strong>Multiple Languages:</strong> Support for 14+ languages with on-device processing</li>
                    </ul>
                    <p><strong>Note:</strong> On-device recognition requires language pack installation. The demo will automatically check availability and prompt you to install if needed.</p>
                </div>
            </div>
        </section>


        <!-- CSS Anchor Positioning Section -->
        <section id="anchor" class="tab-content">
            <h2>‚öì CSS Anchor Positioning</h2>
            <p>Position elements relative to anchor points using modern CSS Anchor Positioning API</p>
            <div class="demo-container">
                <div class="anchor-demo-wrapper">
                    <!-- Example 1: Basic anchor positioning -->
                    <div class="anchor-example">
                        <h3>1. Basic Anchor Positioning</h3>
                        <div class="anchor-demo">
                            <button class="anchor-button" id="anchor-1">Click Me! üéØ</button>
                            <div class="tooltip" id="tooltip-1">This tooltip is anchored to the button above!</div>
                        </div>
                    </div>

                    <!-- Example 2: Position Area -->
                    <div class="anchor-example">
                        <h3>2. Position Area (Different Sides)</h3>
                        <div class="anchor-demo">
                            <div class="anchor-box" id="anchor-2">Anchor Box</div>
                            <div class="anchored-box" id="anchored-2">Top</div>
                        </div>
                        <button id="position-area-btn" class="demo-btn">Cycle Position üîÑ</button>
                    </div>

                    <!-- Example 3: Size from anchor -->
                    <div class="anchor-example">
                        <h3>3. Size Based on Anchor</h3>
                        <div class="anchor-demo">
                            <div class="anchor-resizable" id="anchor-3">Resize Me!</div>
                            <div class="anchored-sized" id="anchored-3">I match your width!</div>
                        </div>
                        <input type="range" id="anchor-size-slider" min="100" max="300" value="150" />
                        <span id="size-value">150px</span>
                    </div>

                </div>

                <div class="anchor-info">
                    <h4>CSS Anchor Positioning Features:</h4>
                    <ul>
                        <li>üìç <strong>anchor-name:</strong> Defines an element as an anchor point</li>
                        <li>üîó <strong>position-anchor:</strong> Links an element to its anchor</li>
                        <li>üìè <strong>anchor():</strong> Function to position relative to anchor edges</li>
                        <li>üéØ <strong>position-area:</strong> Simplified positioning in grid-like areas</li>
                        <li>üìê <strong>anchor-size():</strong> Size elements based on anchor dimensions</li>
                    </ul>
                    <p><strong>Browser Support:</strong> This API is experimental and may require Chrome 125+ or enabling flags.</p>
                </div>
            </div>
        </section>

        <!-- View Transition API Section -->
        <section id="transition" class="tab-content">
            <h2>‚ú® View Transition API</h2>
            <p>Experience smooth transitions between completely different UI layouts and designs</p>
            <div class="demo-container">
                <div class="transition-demo">
                    <div class="transition-card" id="transition-card">
                        <!-- Content will be dynamically generated -->
                    </div>
                </div>
                <button id="transition-btn" class="demo-btn">Animate Transition ‚ú®</button>
                <div class="transition-info">
                    <p><strong>Watch the magic:</strong> Each click transforms the card into a completely different layout with unique colors, animations, and content structure!</p>
                    <ul>
                        <li>üöÄ <strong>Welcome Card:</strong> Centered layout with animated progress bar</li>
                        <li>üé® <strong>Design Card:</strong> Sidebar layout with color palette</li>
                        <li>‚ö° <strong>Performance Card:</strong> Grid layout with metrics</li>
                        <li>üåü <strong>Interactive Card:</strong> Modern card with interactive elements</li>
                    </ul>
                </div>
            </div>
        </section>


        <!-- File System Access API Section -->
        <section id="filesystem" class="tab-content">
            <h2>üìÅ File System Access API</h2>
            <p>Read and write files directly from the browser</p>
            <div class="demo-container">
                <button id="file-read-btn" class="demo-btn">Read File üìñ</button>
                <button id="file-write-btn" class="demo-btn">Write File ‚úçÔ∏è</button>
                <div id="file-result" class="result-box"></div>
                <textarea id="file-content" placeholder="File content will appear here..."></textarea>
            </div>
        </section>

        <!-- Document Picture-in-Picture Section -->
        <section id="pip" class="tab-content">
            <h2>üñºÔ∏è Document Picture-in-Picture</h2>
            <p>Open content in a floating window</p>
            <div class="demo-container">
                <div class="pip-content" id="pip-content">
                    <h3>PiP Content</h3>
                    <p>This content can be opened in Picture-in-Picture mode!</p>
                    <div class="pip-video">üì∫ Video Placeholder</div>
                </div>
                <button id="pip-btn" class="demo-btn">Open PiP üñºÔ∏è</button>
                <div id="pip-status" class="status-text"></div>
            </div>
        </section>


        <!-- Vibration API Section -->
        <section id="vibration" class="tab-content">
            <h2>üì≥ Vibration API</h2>
            <p>Experience haptic feedback on mobile devices</p>
            <div class="demo-container">
                <button id="vibration-single-btn" class="demo-btn">Single Vibration üì≥</button>
                <button id="vibration-pattern-btn" class="demo-btn">Pattern Vibration üì≥üì≥</button>
                <button id="vibration-stop-btn" class="demo-btn">Stop Vibration ‚èπÔ∏è</button>
                <div id="vibration-result" class="result-box"></div>
                <div class="vibration-demo">
                    <p>Try these vibration patterns on a mobile device!</p>
                    <div class="vibration-patterns">
                        <div class="pattern-item">
                            <strong>Single:</strong> Quick vibration
                        </div>
                        <div class="pattern-item">
                            <strong>Pattern:</strong> Long-short-long pattern
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Web Share API Section -->
        <section id="share" class="tab-content">
            <h2>üì§ Web Share API</h2>
            <p>Share content using native platform sharing capabilities</p>
            <div class="demo-container">
                <button id="share-text-btn" class="demo-btn">Share Text üìù</button>
                <button id="share-url-btn" class="demo-btn">Share URL üîó</button>
                <button id="share-file-btn" class="demo-btn">Share File üìÑ</button>
                <div id="share-result" class="result-box"></div>
                <div class="share-demo">
                    <p>Share different types of content using your device's native sharing options!</p>
                    <div class="share-options">
                        <div class="share-item">
                            <strong>Text:</strong> Share plain text content
                        </div>
                        <div class="share-item">
                            <strong>URL:</strong> Share a web link
                        </div>
                        <div class="share-item">
                            <strong>File:</strong> Share a generated text file
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Push API Section -->
        <section id="push" class="tab-content">
            <h2>üîî Push API</h2>
            <p>Send push notifications from the website to users even when the page is closed</p>
            <div class="demo-container">
                <button id="push-subscribe-btn" class="demo-btn">Subscribe to Notifications üîî</button>
                <button id="push-unsubscribe-btn" class="demo-btn">Unsubscribe üìµ</button>
                <button id="push-test-btn" class="demo-btn">Send Test Notification üì§</button>
                <div id="push-result" class="result-box"></div>
                <div id="push-status" class="status-text"></div>
                <div class="push-demo">
                    <p>Experience push notifications that work even when the browser is closed!</p>
                    <div class="push-options">
                        <div class="push-item">
                            <strong>Subscribe:</strong> Request permission and subscribe to push notifications
                        </div>
                        <div class="push-item">
                            <strong>Test:</strong> Send a test notification to see it in action
                        </div>
                        <div class="push-item">
                            <strong>Unsubscribe:</strong> Stop receiving push notifications
                        </div>
                    </div>
                    <div class="push-info">
                        <h4>How the Push API works (following best practices):</h4>
                        <ol>
                            <li><strong>Check Support:</strong> Verify Service Worker and Push API support</li>
                            <li><strong>Register Service Worker:</strong> Background script to handle push events</li>
                            <li><strong>Request Permission:</strong> Ask user for notification permission</li>
                            <li><strong>Subscribe:</strong> Create push subscription with VAPID key</li>
                            <li><strong>Send to Server:</strong> Send subscription data to your server</li>
                            <li><strong>Receive Push:</strong> Server sends push messages to the subscription endpoint</li>
                            <li><strong>Show Notification:</strong> Service worker displays notification to user</li>
                        </ol>
                        <p><strong>Note:</strong> This demo shows the client-side implementation. In a real app, your server would send push notifications using the subscription endpoint.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
</div>
<script type="module" src="/src/main.ts"></script>
</body>
</html>